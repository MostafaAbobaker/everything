<section class="settings-page py-5 bg-white">
  <div class="container">
    <h4 class="fw-bold mb-3"> العنواين

    </h4>
    <!-- Button trigger modal -->

    <div class="d-flex justify-content-end">
    
      <button class="btn btn-info" type="submit" data-bs-toggle="modal" data-bs-target="#exampleModal">
        <i class="fas fa-plus fa-fw me-2"></i> أضافة عنوان جديد
      </button>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">تفاصيل العنوان</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form class="form p-0 w-100" [formGroup]="addressForm">
              <div class="mb-3">
                <label for="region" class="form-label">المنطقة</label>
                <select class="form-select" aria-label="Default select example" formControlName="regionId">
                  <option value="" selected>اختر المنطقة</option>
                  <option *ngFor="let region of regionsOptions" [value]="region.id">
                    {{ region.name }}
                  </option>
                </select>
              </div>
    
              <div class="mb-3">
                <label for="address" class="form-label">العنوان</label>
                <input type="text" formControlName="addrees" class="form-control" name="addrees" placeholder="العنوان">
              </div>
    
              <!-- <div class="form-check mb-3">
                    <input class="form-check-input"  type="checkbox" value="" id="checkDefault" formControlName="isdefault">
                    <label class="form-check-label" for="checkDefault">
                      تعيين كعنوان افتراضى
                    </label>
                  </div> -->
              <hr>
              <div class="mb-3 d-flex justify-content-end">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">اغلاق</button>
                <button class="btn btn-success" type="submit" (click)="addNewAddress()" [disabled]="addressForm.invalid">
                  <i class="fas fa-save fa-fw me-2"></i> حفظ
                </button>
    
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    
    
    <hr>
    <div class="card mb-3 text-bg-success">
      <div class="card-header">
        العنوان الافتراضى
      </div>
      <div class="card-body" *ngFor="let item of defaultAddresses">
        <!-- <h5 class="card-title"> مدينة نصر </h5>
            <p class="card-text">30 محمود عباس متفرع من مصطفى النحاس مدينة نصر القاهرة</p> -->
        <h5 class="card-title">{{item.regionName}}</h5>
        <p class="card-text">{{item.addrees}}</p>

      </div>
      </div>
    <div *ngFor="let item of addressList; let i = index;" class="card">
      <div class="card-header">
        <div class="mb-3 d-flex justify-content-between">
          <div>
            العنوان {{i + 2}}
            </div>
          <button class="btn btn-danger" (click)="deleteAddress(item.id)">
            <i class="fas fa-trash fa-fw me-2"></i> حذف
          </button>
          </div>
          </div>

      <div class="card-body">
        <!-- <h5 class="card-title"> التجمع الخامس  </h5>
                <p class="card-text">66 ش التسعين الرئيسى بجوار مول كيرو فيستفيل ستى </p> -->
        <h5 class="card-title">{{item.regionName}}</h5>
        <p class="card-text">{{item.addrees}}</p>
        <a (click)="updateUserAddress(item)" class="btn btn-success"> تعيين كعنوان افتراضي </a>
      </div>
      </div>

  </div>
</section>

