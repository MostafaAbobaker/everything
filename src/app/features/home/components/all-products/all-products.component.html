<section class="categories-page py-5 bg-light">
  <div class="container">
    <div class="row g-3">
      <div class="col-lg-3">
        <app-filter (brandSelect)="getSelectBrand($event)" (categorySelect)="getSelectCategory($event)"></app-filter>
      </div>
      <div class="col-lg-9">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h4 class="">{{ totalRecords }} إجمالي المنتجات</h4>
          <div class="dropdown">
            <div class="dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fa-solid fa-arrow-right-arrow-left fa-rotate-90 me-2"></i>
              ترتيب حسب :
              <span class="fw-bold me-2 px-1">{{ stateSorting }}</span>
            </div>
            <ul class="dropdown-menu">
              <li>
                <a class="dropdown-item" (click)="sortProducts('Recommended')">الأكثر رواجاً</a>
              </li>
              <li>
                <a class="dropdown-item" (click)="sortProducts('highLow')">السعر: من الأعلى إلى الأقل</a>
              </li>
              <li>
                <a class="dropdown-item" (click)="sortProducts('lowHigh')">السعر: من الأقل إلى الأعلى</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="row g-3">
          @for (item of allProducts; track item.id) {
          <div class="col-lg-4">
            <app-product [product]="item"></app-product>
          </div>
          } @empty {
            <div class="icon text-center mb-4 mx-auto">
              <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="100" height="100" x="0" y="0" viewBox="0 0 64 64" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path d="M48 32c-7.72 0-14 6.28-14 14s6.28 14 14 14c2.75 0 5.43-.8 7.73-2.33.46-.3.59-.92.28-1.38a.99.99 0 0 0-1.38-.28C52.65 57.31 50.36 58 48 58c-6.62 0-12-5.38-12-12s5.38-12 12-12 12 5.38 12 12c0 2.76-.92 5.36-2.65 7.5a1.002 1.002 0 1 0 1.56 1.26C60.93 52.25 62 49.23 62 46c0-7.72-6.28-14-14-14z" fill="#0d345e" opacity="1" data-original="#000000" class=""></path><path d="M53.71 40.29a.996.996 0 0 0-1.41 0l-4.29 4.29-4.29-4.29a.996.996 0 1 0-1.41 1.41l4.29 4.29-4.29 4.29a.996.996 0 0 0 .71 1.7c.26 0 .51-.1.71-.29l4.29-4.29 4.29 4.29c.2.2.45.29.71.29s.51-.1.71-.29a.996.996 0 0 0 0-1.41l-4.29-4.29 4.29-4.29a.996.996 0 0 0 0-1.41zM20 32a1.008 1.008 0 0 0 1-1v-8.34l23.77-10.19c.37-.16.61-.53.61-.93s-.25-.77-.63-.92l-7.24-2.9c-.25-.1-.52-.1-.77 0l-8.92 3.82c-.51.22-.74.81-.53 1.31.22.51.81.74 1.31.53l8.54-3.66 4.62 1.85-22.16 9.5c-.37.16-.61.52-.61.92v7.48l-5-2.14v-7.68l10.02-4.3c.51-.22.74-.81.52-1.31a.994.994 0 0 0-1.31-.52l-10.63 4.56c-.37.16-.61.52-.61.92v9c0 .4.24.76.61.92l7 3c.13.05.26.08.39.08z" fill="#0d345e" opacity="1" data-original="#000000" class=""></path><path d="M31.53 50.51 29 51.52V25.67l23-9.2v13.28c0 .55.45 1 1 1s1-.45 1-1V14.99c0-.12-.03-.24-.07-.35-.01-.03-.03-.06-.05-.1a.902.902 0 0 0-.14-.2c-.02-.03-.05-.05-.07-.08a.776.776 0 0 0-.24-.16c-.02 0-.03-.02-.05-.03l-3.37-1.35a.994.994 0 0 0-1.3.56.99.99 0 0 0 .56 1.3l1.05.42-22.31 8.92-2.13-.85a.999.999 0 0 0-1.3.56c-.21.51.04 1.09.56 1.3l1.87.75v25.85l-11.63-4.65a.987.987 0 0 0-1.3.56c-.21.51.04 1.09.56 1.3l13 5.2c.12.05.25.07.37.07s.25-.02.37-.07l3.9-1.56c.51-.21.76-.79.56-1.3-.21-.51-.79-.76-1.3-.56zM11.37 45.27 4 42.32V16.47l4.63 1.85a1.005 1.005 0 0 0 1.3-.56.994.994 0 0 0-.56-1.3l-3.68-1.47L28 6.08l3.52 1.4c.51.2 1.1-.05 1.3-.56s-.05-1.09-.56-1.3l-3.89-1.55c-.24-.1-.5-.09-.74 0l-25 10c-.02 0-.03.02-.04.03-.09.04-.18.1-.25.17-.03.02-.05.05-.07.08a.77.77 0 0 0-.14.21c-.02.03-.03.06-.05.1-.04.11-.07.23-.07.35v28a1 1 0 0 0 .63.93l8 3.2a1.005 1.005 0 0 0 1.3-.56.994.994 0 0 0-.56-1.3z" fill="#0d345e" opacity="1" data-original="#000000" class=""></path></g></svg>
            </div>
          <div class="alert alert-secondary  alert-dismissible d-flex align-items-center p-0" role="alert">
				<div class="alert-icon p-2 me-3 bg-body-secondary"><i class="fa-solid fa-triangle-exclamation  fa-fw text-warning fa-2x"></i></div>
				<div class="alert-message">
					 لا  توجد منتجات فى هذه الفئه فى الوقت الحالى !
				</div>
				</div>
          }
          @if(totalRecords > 10 ) {
            <div class="d-flex justify-content-center pt-5">
              <p-paginator (onPageChange)="onPageChange($event)" [first]="first" [rows]="rows" [totalRecords]="totalRecords"
                [rowsPerPageOptions]="[10, 20, 30]" />
            </div>

          }
        </div>
      </div>
    </div>
  </div>
</section>
