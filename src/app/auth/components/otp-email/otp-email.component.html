<div class="login-container">
  <div class="image">
    <img src="../../../../assets/imgs/secure-mail.png" alt="" width="125px" height="125px" />
  </div>
  <h3 class="text-center mb-5">بريد إلكتروني OTP</h3>

  <form [formGroup]="otpForm" (ngSubmit)="submitOtp()" class="otp-form">
    <label for="otp" class="mb-3 d-block">أدخل رمز التحقق المرسل إلى بريدك الإلكتروني:</label>
    <input id="otp" type="text" formControlName="otp" maxlength="4" class="form-control form-control-lg input-otp" autocomplete="one-time-code" />
    <div *ngIf="otpForm.get('otp')?.invalid && otpForm.get('otp')?.touched" class="text-danger">
      يجب إدخال رمز التحقق.
    </div>
    <button type="submit" class="btn btn-primary btn-lg w-100 mb-2 mt-4" [disabled]="otpForm.invalid ">
      تأكيد
    </button>

  </form>
  <button type="button" class="btn btn-link w-100" (click)="resendCode()" [disabled]="resendDisabled">
      إعادة إرسال الرمز <span *ngIf="resendDisabled">({{ timer }} ثانية)</span>
    </button>
    @if(errorMessage) {

      <div  class="text-danger mt-2">{{ errorMessage }}</div>
    }
    @if(successMessage){
      <div class="text-success mt-2">
        {{ successMessage }}
      </div>

    }
</div>
